# 一、操作系统概述

操作系统关注的是如何控制和协调处理机、存储器、设备和文件，而不关注接口和扩充机器。

## 操作系统基本概念

操作系统是指控制和管理整个计算机系统的**硬件**和**软件**资源,合理地组织与资源的分配,进而为用户和其他软件提供方便接口与环境的程序的集合.

操作系统是计算机系统中**最基本**的**系统软件**!

## 操作系统特征

操作系统基本特征包括**并发、共享、虚拟和异步**

### 并发

并发是指两个或多个时间在同一**时间间隔**内发生(在早餐间隔中放下牛奶吃面包,放下面包和牛奶)

操作系统的并发性指计算机系统中同时存在多个运行的程序,因此OS具有处理和调度多个程序同时执行的能力.

#### 并行 (打印机与显示器)

并行指系统具有**同时**运算或操作的能力(一手拿牛奶一手拿面包,两个同时吃)

### 共享

 指系统资源可供内存中多个并发执行的进程共同使用

#### 互斥共享方式

一段时间内只允许一个进程访问资源: 打印机

#### 同时访问方式

一段时间内可以由多个进程同时访问: 显示器

### 并发和共享是OS两个最基本的特征

两者互为存在条件

1. 资源共享是以程序的并发为条件的，若系统不允许程序的并发执行，则自然不存在资源共享问题；
2. 若系统不能对资源共享实施有效管理，则必将影响到程序的并发执行

### 虚拟

虚拟是指把一个物理上的实体变为若干逻辑上的对应物。实现虚拟的技术称为**虚拟技术**。

利用多道程序设计技术将一个物理上的CPU虚拟为多个逻辑上的CPU，称为虚拟处理器

利用虚拟存储器技术可以将一台机器上的物理存储器变为虚拟存储器

操作系统上的虚拟技术可以归纳为：时分复用技术和空分复用技术

### 异步

多道程序环境允许多个程序并发执行，由于空间有限，进程的执行并不是一贯到底，而是走走停停，他已不可预知的速度向前推进，这就是进程的异步性。

## 操作系统的目标和功能

为给多道程序提供良好的运行环境，操作系统应具有以下功能

* 处理机调度
* 存储器管理
* 设备管理
* 文件管理

为方便用户使用OS，还必须为用户提供接口，同时，OS可以用来扩充机器，以提供更好的服务，更高的资源利用率。

#### 处理机管理

多道程序环境下，处理机的分配和运行都以进程或线程为基本单位，因此处理机的管理可以归结为进程的管理。并发指在计算机内同时运行多个程序，因此进程何时创建、何时撤销、如何管理、如何避免冲突、合理共享就是进程管理的最主要任务。

进程管理的主要功能包括进程控制、进程同步、进程通信、死锁处理、处理机调度等。

#### 存储器管理

存储器管理是为了给多道程序的运行提供良好的环境，方便用户使用及提高内存的利用率。

存储器管理主要包括内存分配与回收、地址映射、内存保护和共享内存扩充等功能。

#### 文件管理

负责文件管理的部分称为文件系统，文件管理主要包括存储空间的管理、目录的管理、文件读写管理和保护。

#### 设备管理

设备管理主要任务是完成用户的I/O请求，方便用户使用各种设备，提高设备利用率

设备管理主要包括缓冲管理、设备分配、设备处理和虚拟设备

### 命令接口

OS提供的命令接口主要分为两类：命令接口和程序接口

#### 命令接口：

使用命令接口进行作业控制的主要方式有两种：1、联机控制方式 2、脱机控制方式

联机命令接口，又称交互式命令接口，适用于分时或实时系统的接口，输入一条指令，执行一条指令

脱机命令接口： 又称批处理命令接口，适用于批处理系统，根据清单上的指令一步步执行

#### 程序接口：

程序接口由一组系统调用（也称广义指令）组成，用户通过在程序中使用这些系统调用，请求操作系统为其提供服务，如外部设备、申请分配和回收内存及其他要求。

### 资源扩充

没有任何软件支持的计算机称为裸机。覆盖有软件的机器称之为扩充机器或虚拟机。